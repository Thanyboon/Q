<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NP อาหารแช่แข็ง</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Firebase SDKs -->
    <script type="module">
        // Import Firebase modules ที่จำเป็น
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";

        let app;
        let db;
        let auth;
        let currentAppId; // ประกาศตัวแปรนี้ใน scope ที่เข้าถึงได้ทั่วถึง

        document.addEventListener('DOMContentLoaded', async () => {
            // === START: Firebase Config and Initialization ===
            const firebaseConfig = {
                apiKey: "AIzaSyAzAJPE2sOsLr7zW1NJxP8SSBO0hBJuSJo",
                authDomain: "food-order-b419e.firebaseapp.com",
                projectId: "food-order-b419e",
                storageBucket: "food-order-b419e.firebasestorage.app",
                messagingSenderId: "785024452468",
                appId: "1:785024452468:web:6c159e4bea1f74367c4e21",
                measurementId: "G-YVP5NPYG08"
            };

            currentAppId = typeof __app_id !== 'undefined' ? __app_id : firebaseConfig.projectId;
            const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
            const providedFirebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : firebaseConfig;

            try {
                app = initializeApp(providedFirebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                console.log("Firebase app initialized successfully.");
                console.log("Current App ID (from index.html):", currentAppId); // เพิ่ม log

                try {
                    if (initialAuthToken) {
                        await signInAnonymously(auth, initialAuthToken);
                    } else {
                        await signInAnonymously(auth);
                    }
                    console.log("Firebase authenticated successfully (anonymous user).");
                } catch (error) {
                    console.error("Firebase authentication error:", error);
                }

                // Export Firebase instances to window for other scripts/pages if needed
                window.firebaseApp = app;
                window.firestoreDb = db;
                window.firebaseAuth = auth;
                window.currentAppId = currentAppId;

            } catch (error) {
                console.error("Error initializing Firebase app:", error);
                console.error("ระบบยังไม่พร้อมใช้งาน (Firebase Init Error) กรุณาตรวจสอบการตั้งค่า Firebase");
                return;
            }
            // === END: Firebase Config and Initialization ===

            // --- Start of existing DOM manipulation and form submission logic ---

            const menuItems = document.querySelectorAll('.menu-item');
            const summaryItemsDiv = document.getElementById('summary-items');
            const totalAmountSpan = document.getElementById('total-amount');

            function updateOrderSummary() {
                let total = 0;
                summaryItemsDiv.innerHTML = ''; // Clear current summary

                menuItems.forEach(item => {
                    const itemName = item.dataset.name;
                    const itemPrice = parseFloat(item.dataset.price);
                    const quantityInput = item.querySelector('.item-qty');
                    const quantity = parseInt(quantityInput.value);

                    if (quantity > 0) {
                        const itemTotal = itemPrice * quantity;
                        total += itemTotal;

                        const summaryItemDiv = document.createElement('div');
                        summaryItemDiv.classList.add('summary-item');
                        summaryItemDiv.innerHTML = `
                            <span>${itemName} x ${quantity}</span>
                            <span>${itemTotal} บาท</span>
                        `;
                        summaryItemsDiv.appendChild(summaryItemDiv);
                    }
                });
                totalAmountSpan.textContent = total;
            }

            menuItems.forEach(item => {
                const decreaseBtn = item.querySelector('.decrease-qty');
                const increaseBtn = item.querySelector('.increase-qty');
                const quantityInput = item.querySelector('.item-qty');

                decreaseBtn.addEventListener('click', () => {
                    let currentQty = parseInt(quantityInput.value);
                    if (currentQty > 0) {
                        quantityInput.value = currentQty - 1;
                        updateOrderSummary();
                    }
                });

                increaseBtn.addEventListener('click', () => {
                    let currentQty = parseInt(quantityInput.value);
                    quantityInput.value = currentQty + 1;
                    updateOrderSummary();
                });

                quantityInput.addEventListener('change', () => {
                    if (parseInt(quantityInput.value) < 0 || isNaN(parseInt(quantityInput.value))) {
                        quantityInput.value = 0;
                    }
                    updateOrderSummary();
                });
            });

            updateOrderSummary(); // Initial summary update

            const orderForm = document.getElementById('orderForm');
            orderForm.addEventListener('submit', async (event) => {
                event.preventDefault(); // Prevent default form submission

                // ตรวจสอบว่า Firebase ถูก initialize และพร้อมใช้งานแล้ว
                if (!db || !currentAppId) { // ใช้ตัวแปร db และ currentAppId ที่ประกาศไว้ด้านบน
                    console.error("Firebase is not initialized or app ID is missing. Cannot save order.");
                    alert("ระบบยังไม่พร้อมใช้งาน กรุณาลองใหม่อีกครั้ง"); // แจ้งผู้ใช้
                    return;
                }

                const selectedItems = [];
                menuItems.forEach(item => {
                    const itemName = item.dataset.name;
                    const itemPrice = parseFloat(item.dataset.price);
                    const quantityInput = item.querySelector('.item-qty');
                    const quantity = parseInt(quantityInput.value);

                    if (quantity > 0) {
                        selectedItems.push({
                            name: itemName,
                            price: itemPrice,
                            quantity: quantity
                        });
                    }
                });

                if (selectedItems.length === 0) {
                    alert('กรุณาเลือกรายการอาหารก่อนยืนยันการสั่งซื้อ');
                    return;
                }

                const customerName = document.getElementById('customer-name').value;
                const customerTel = document.getElementById('customer-tel').value;
                const customerAddress = document.getElementById('customer-address').value;
                const customerRoom = document.getElementById('customer-room').value;
                const customerFloor = document.getElementById('customer-floor').value;
                const totalOrderAmount = parseFloat(totalAmountSpan.textContent);
                const slipFile = document.getElementById('slip-upload').files[0];

                if (!customerName || !customerTel || !customerAddress) {
                    alert('กรุณากรอกข้อมูลผู้สั่งซื้อและที่อยู่จัดส่งให้ครบถ้วน');
                    return;
                }

                if (!slipFile) {
                    alert('กรุณาแนบสลิปหลักฐานการโอนเงิน');
                    return;
                }

                const orderData = {
                    timestamp: new Date().toLocaleString(),
                    customer: {
                        name: customerName,
                        tel: customerTel,
                        address: customerAddress,
                        room: customerRoom,
                        floor: customerFloor
                    },
                    items: selectedItems,
                    totalAmount: totalOrderAmount,
                    slipFileName: slipFile.name
                };

                try {
                    const ordersCollectionPath = `artifacts/${currentAppId}/public/data/orders`; // สร้าง path
                    const ordersCollectionRef = collection(db, ordersCollectionPath); // ใช้ db และ currentAppId ที่ถูกต้อง
                    console.log("Attempting to save order to path:", ordersCollectionPath); // เพิ่ม log
                    const docRef = await addDoc(ordersCollectionRef, orderData);
                    console.log("Document written with ID: ", docRef.id); // เพิ่ม log

                    orderData.id = docRef.id;
                    localStorage.setItem('lastOrder', JSON.stringify(orderData));

                    window.location.href = 'bill.html';

                } catch (e) {
                    console.error("Error adding document to Firestore: ", e);
                    alert("เกิดข้อผิดพลาดในการบันทึกคำสั่งซื้อ กรุณาลองใหม่อีกครั้ง");
                }
            });
        }); // สิ้นสุด DOMContentLoaded
    </script>
    <style>
        body {
            font-family: 'Kanit', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1, h2 {
            color: #d32f2f;
            text-align: center;
            margin-bottom: 25px;
        }
        .section-title {
            background-color: #ffebee;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 1.3em;
            color: #c62828;
            border-left: 5px solid #d32f2f;
        }
        .menu-category {
            margin-bottom: 30px;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
        }
        .menu-item:last-child {
            border-bottom: none;
        }
        .item-info {
            flex-grow: 1;
        }
        .item-name {
            font-weight: 600;
            font-size: 1.1em;
        }
        .item-price {
            font-weight: 600;
            color: #d32f2f;
            white-space: nowrap;
        }
        .quantity-control {
            display: flex;
            align-items: center;
            margin-left: 20px;
        }
        .quantity-control button {
            background-color: #d32f2f;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            font-size: 1.2em;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s ease;
        }
        .quantity-control button:hover {
            background-color: #c62828;
        }
        .quantity-control input {
            width: 40px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 0 5px;
            height: 30px;
            font-size: 1em;
            -moz-appearance: textfield; /* Firefox */
        }
        .quantity-control input::-webkit-outer-spin-button,
        .quantity-control input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .order-summary {
            background-color: #e8f5e9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 40px;
            border: 1px solid #c8e6c9;
        }
        .order-summary h3 {
            color: #2e7d32;
            text-align: center;
            margin-bottom: 20px;
        }
        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px dashed #cfe9d0;
        }
        .summary-item:last-child {
            border-bottom: none;
        }
        .total-price {
            font-size: 1.4em;
            font-weight: 700;
            color: #1b5e20;
            margin-top: 15px;
            text-align: right;
        }

        .customer-info {
            margin-top: 40px;
            padding: 20px;
            background-color: #e3f2fd;
            border-radius: 8px;
            border: 1px solid #bbdefb;
        }
        .customer-info h3 {
            color: #1565c0;
            text-align: center;
            margin-bottom: 20px;
        }
        .customer-info label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2196f3;
        }
        .customer-info input[type="text"],
        .customer-info input[type="tel"],
        .customer-info textarea {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #90caf9;
            border-radius: 5px;
            font-size: 1em;
        }
        .customer-info textarea {
            resize: vertical;
            min-height: 80px;
        }


        .payment-section {
            margin-top: 40px;
            padding: 20px;
            background-color: #fce4ec;
            border-radius: 8px;
            border: 1px solid #f8bbd0;
        }
        .payment-section h3 {
            color: #ad1457;
            text-align: center;
            margin-bottom: 20px;
        }
        .payment-details {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.6;
        }
        .payment-details strong {
            color: #880e4f;
        }
        .upload-slip {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        .upload-slip input[type="file"] {
            margin-bottom: 15px;
            border: 1px solid #f48fb1;
            padding: 8px;
            border-radius: 5px;
            width: 80%;
            max-width: 300px;
            background-color: #fff;
        }
        .submit-button {
            background-color: #4CAF50;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.3em;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 20px auto 0;
        }
        .submit-button:hover {
            background-color: #45a049;
        }
        .footer {
            text-align: center;
            margin-top: 50px;
            font-size: 0.9em;
            color: #777;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>NP อาหารแช่แข็ง</h1>
        <h2>รายการอาหาร</h2>

        <form id="orderForm">
            <div class="menu-category">
                <div class="section-title">เซตหมูกระทะ</div>

                <div class="menu-item" data-price="159" data-name="เซตหมูกระทะโบราณ">
                    <div class="item-info">
                        <div class="item-name">เซตหมูกระทะโบราณ</div>
                        <div class="item-description"></div>
                    </div>
                    <div class="item-price">159 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="10" data-name="วุ้นเส้น (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">วุ้นเส้น (พิเศษ)</div>
                    </div>
                    <div class="item-price">10 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="20" data-name="หมูนุ่ม (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">หมูนุ่ม (พิเศษ)</div>
                    </div>
                    <div class="item-price">20 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="30" data-name="หมูสามชั้น (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">หมูสามชั้น (พิเศษ)</div>
                    </div>
                    <div class="item-price">30 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                 <div class="menu-item" data-price="10" data-name="มาม่า (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">มาม่า (พิเศษ)</div>
                    </div>
                    <div class="item-price">10 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="20" data-name="ตับ (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">ตับ (พิเศษ)</div>
                    </div>
                    <div class="item-price">20 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="10" data-name="ไข่ (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">ไข่ (พิเศษ)</div>
                    </div>
                    <div class="item-price">10 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="25" data-name="ชุดผัก (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">ชุดผัก (พิเศษ)</div>
                    </div>
                    <div class="item-price">25 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="35" data-name="น้ำจิ้ม (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">น้ำจิ้ม (พิเศษ)</div>
                    </div>
                    <div class="item-price">35 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="10" data-name="เต้าหู้ไข่ (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">เต้าหู้ไข่ (พิเศษ)</div>
                    </div>
                    <div class="item-price">10 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="15" data-name="เห็ดเข็มทอง (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">เห็ดเข็มทอง (พิเศษ)</div>
                    </div>
                    <div class="item-price">15 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>

                <div class="menu-item" data-price="170" data-name="เซตสันคอเฉยๆ">
                    <div class="item-info">
                        <div class="item-name">เซตสันคอเฉยๆ</div>
                        <div class="item-description"></div>
                    </div>
                    <div class="item-price">170 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                 <div class="menu-item" data-price="10" data-name="สันคอกัปตัน (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">สันคอกัปตัน (พิเศษ)</div>
                    </div>
                    <div class="item-price">10 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="10" data-name="สันคอพรีเมียม (พิเศษ)">
                    <div class="item-info">
                        <div class="item-name">สันคอพรีเมียม (พิเศษ)</div>
                    </div>
                    <div class="item-price">10 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="179" data-name="เซตสามชั้นเฉยๆ">
                    <div class="item-info">
                        <div class="item-name">เซตสามชั้นเฉยๆ</div>
                        <div class="item-description">สามชั้น 3 แถว, สามชั้นกลม รอบหนัง, สามชั้นชาบู (เลือก 1 อย่าง)</div>
                    </div>
                    <div class="item-price">179 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                </div>
            <div class="menu-category">
                <div class="section-title">หมู</div>
                <div class="menu-item" data-price="149" data-name="สามชั้นสไลด์ 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">สามชั้นสไลด์ 500 กรัม</div>
                    </div>
                    <div class="item-price">149 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="149" data-name="สามชั้นกลม 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">สามชั้นกลม 500 กรัม</div>
                    </div>
                    <div class="item-price">149 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="149" data-name="สามชั้น 3 แถว 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">สามชั้น 3 แถว 500 กรัม</div>
                    </div>
                    <div class="item-price">149 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="245" data-name="สันคอพรีเมียม 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">สันคอพรีเมียม 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">245 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="139" data-name="เบคอน 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">เบคอน 500 กรัม</div>
                    </div>
                    <div class="item-price">139 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="145" data-name="สันคอกัปตัน 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">สันคอกัปตัน 500 กรัม</div>
                    </div>
                    <div class="item-price">145 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="105" data-name="หมูหมักนุ่ม 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">หมูหมักนุ่ม 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">105 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="105" data-name="หมูหมักงา 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">หมูหมักงา 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">105 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="105" data-name="หมูหมักพริกไทยดำ 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">หมูหมักพริกไทยดำ 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">105 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="189" data-name="สามชั้นหมักนุ่ม 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">สามชั้นหมักนุ่ม 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">189 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="125" data-name="ตับ 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">ตับ 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">125 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="100" data-name="หมูบด 1 กิโลกรัม">
                    <div class="item-info">
                        <div class="item-name">หมูบด 1 กิโลกรัม</div>
                    </div>
                    <div class="item-price">100 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="119" data-name="หมูหมักนุ่ม MPork">
                    <div class="item-info">
                        <div class="item-name">หมูหมักนุ่ม MPork</div>
                    </div>
                    <div class="item-price">119 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="119" data-name="หมูหมักงา MPork">
                    <div class="item-info">
                        <div class="item-name">หมูหมักงา MPork</div>
                    </div>
                    <div class="item-price">119 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="119" data-name="หมูหมักพริกไทยดำ MPork">
                    <div class="item-info">
                        <div class="item-name">หมูหมักพริกไทยดำ MPork</div>
                    </div>
                    <div class="item-price">119 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-category">
                <div class="section-title">เนื้อ</div>
                <div class="menu-item" data-price="209" data-name="เสือร้องไห้ออสเตเลีย 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">เสือร้องไห้ออสเตเลีย 500 กรัม</div>
                    </div>
                    <div class="item-price">209 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="น่องลาย 200 กรัม">
                    <div class="item-info">
                        <div class="item-name">น่องลาย 200 กรัม</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="เบคอนเนื้อ 200 กรัม">
                    <div class="item-info">
                        <div class="item-name">เบคอนเนื้อ 200 กรัม</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="เสือออส 200 กรัม">
                    <div class="item-info">
                        <div class="item-name">เสือออส 200 กรัม</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="ลิ้นสไลด์ 200 กรัม">
                    <div class="item-info">
                        <div class="item-name">ลิ้นสไลด์ 200 กรัม</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-category">
                <div class="section-title">ทะเล</div>
                <div class="menu-item" data-price="60" data-name="หมึกกรอบ 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">หมึกกรอบ 500 กรัม</div>
                    </div>
                    <div class="item-price">60 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="159" data-name="กุ้งเด้ง 40-50 ตัว">
                    <div class="item-info">
                        <div class="item-name">กุ้งเด้ง 40-50 ตัว</div>
                    </div>
                    <div class="item-price">159 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="100" data-name="ปลาหมึกบั้ง">
                    <div class="item-info">
                        <div class="item-name">ปลาหมึกบั้ง</div>
                    </div>
                    <div class="item-price">100 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="100" data-name="ปลาหมึกวง">
                    <div class="item-info">
                        <div class="item-name">ปลาหมึกวง</div>
                    </div>
                    <div class="item-price">100 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="95" data-name="ปลาดอลลี่หั่น">
                    <div class="item-info">
                        <div class="item-name">ปลาดอลลี่หั่น</div>
                    </div>
                    <div class="item-price">95 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="129" data-name="หอยแมลงภู่แกะ">
                    <div class="item-info">
                        <div class="item-name">หอยแมลงภู่แกะ</div>
                    </div>
                    <div class="item-price">129 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="139" data-name="หอยแมลงภู่ติดฝา">
                    <div class="item-info">
                        <div class="item-name">หอยแมลงภู่ติดฝา</div>
                    </div>
                    <div class="item-price">139 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
            </div>

            <div class="menu-category">
                <div class="section-title">อาหารแปรรูป</div>
                <div class="menu-item" data-price="25" data-name="มินิเปาทูโทนใส่ไข่กุ้ง">
                    <div class="item-info">
                        <div class="item-name">มินิเปาทูโทนใส่ไข่กุ้ง</div>
                    </div>
                    <div class="item-price">25 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="25" data-name="มินิฟองเต้าหู้ชีส">
                    <div class="item-info">
                        <div class="item-name">มินิฟองเต้าหู้ชีส</div>
                    </div>
                    <div class="item-price">25 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="20" data-name="มินิชิกูว่า">
                    <div class="item-info">
                        <div class="item-name">มินิชิกูว่า</div>
                    </div>
                    <div class="item-price">20 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="ปลาม้วนไข่เค็ม 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">ปลาม้วนไข่เค็ม 500 กรัม</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="95" data-name="เต้าหู้ชีส 500 กรัม">
                    <div class="item-info">
                        <div class="item-name">เต้าหู้ชีส 500 กรัม</div>
                    </div>
                    <div class="item-price">95 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="คอมโบฟิตบัน">
                    <div class="item-info">
                        <div class="item-name">คอมโบฟิตบัน</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="85" data-name="เต้าหู้ปลา">
                    <div class="item-info">
                        <div class="item-name">เต้าหู้ปลา</div>
                    </div>
                    <div class="item-price">85 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="90" data-name="ซูซูฟิตบัน">
                    <div class="item-info">
                        <div class="item-name">ซูซูฟิตบัน</div>
                    </div>
                    <div class="item-price">90 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="55" data-name="ลูกชิ้นหมูป้าปิ๋">
                    <div class="item-info">
                        <div class="item-name">ลูกชิ้นหมูป้าปิ๋</div>
                    </div>
                    <div class="item-price">55 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="55" data-name="ลูกชิ้นเนื้อป้าปิ๋">
                    <div class="item-info">
                        <div class="item-name">ลูกชิ้นเนื้อป้าปิ๋</div>
                    </div>
                    <div class="item-price">55 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="95" data-name="ทูโทนชิชะโมะ">
                    <div class="item-info">
                        <div class="item-name">ทูโทนชิชะโมะ</div>
                    </div>
                    <div class="item-price">95 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="85" data-name="ปูอัดไส้ชีส">
                    <div class="item-info">
                        <div class="item-name">ปูอัดไส้ชีส</div>
                    </div>
                    <div class="item-price">85 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="89" data-name="ปูอัดเบนโตะ">
                    <div class="item-info">
                        <div class="item-name">ปูอัดเบนโตะ</div>
                    </div>
                    <div class="item-price">89 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="95" data-name="เปาทูโทนไส้ไข่กุ้ง">
                    <div class="item-info">
                        <div class="item-name">เปาทูโทนไส้ไข่กุ้ง</div>
                    </div>
                    <div class="item-price">95 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="65" data-name="ไข่หวาน">
                    <div class="item-info">
                        <div class="item-name">ไข่หวาน</div>
                    </div>
                    <div class="item-price">65 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="99" data-name="ฟองเต้าหู้ชีส">
                    <div class="item-info">
                        <div class="item-name">ฟองเต้าหู้ชีส</div>
                    </div>
                    <div class="item-price">99 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="90" data-name="ฟองเต้าหู้ซีฟู้ด">
                    <div class="item-info">
                        <div class="item-name">ฟองเต้าหู้ซีฟู้ด</div>
                    </div>
                    <div class="item-price">90 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="45" data-name="ลูกชิ้นปลานามิ">
                    <div class="item-info">
                        <div class="item-name">ลูกชิ้นปลานามิ</div>
                    </div>
                    <div class="item-price">45 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="25" data-name="มินิกุ้งแม็กนั่ม">
                    <div class="item-info">
                        <div class="item-name">มินิกุ้งแม็กนั่ม</div>
                    </div>
                    <div class="item-price">25 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
                <div class="menu-item" data-price="75" data-name="กุ้งแม็กนั่ม">
                    <div class="item-info">
                        <div class="item-name">กุ้งแม็กนั่ม</div>
                    </div>
                    <div class="item-price">75 บาท</div>
                    <div class="quantity-control">
                        <button type="button" class="decrease-qty">-</button>
                        <input type="number" value="0" min="0" class="item-qty">
                        <button type="button" class="increase-qty">+</button>
                    </div>
                </div>
            </div>

            <div class="order-summary">
                <h3>สรุปรายการสั่งซื้อ</h3>
                <div id="summary-items">
                    <!-- Summary items will be dynamically added here -->
                </div>
                <div class="total-price">
                    รวมทั้งหมด: <span id="total-amount">0</span> บาท
                </div>
            </div>

            <div class="customer-info">
                <h3>ข้อมูลผู้สั่งซื้อและจัดส่ง</h3>
                <label for="customer-name">ชื่อ-นามสกุล:</label>
                <input type="text" id="customer-name" name="customerName" required placeholder="เช่น สมชาย ใจดี">

                <label for="customer-tel">เบอร์โทรศัพท์:</label>
                <input type="tel" id="customer-tel" name="customerTel" required placeholder="เช่น 08XXXXXXXX" pattern="[0-9]{10}">

                <label for="customer-address">ที่อยู่จัดส่ง:</label>
                <textarea id="customer-address" name="customerAddress" rows="3" required placeholder="เช่น 123/4 หมู่บ้านสุขสันต์ ถนนประชาชื่น ซอย 5"></textarea>

                <label for="customer-room">ห้อง/เลขที่ (ถ้ามี):</label>
                <input type="text" id="customer-room" name="customerRoom" placeholder="เช่น 101, ห้อง A5">

                <label for="customer-floor">ชั้น (ถ้ามี):</label>
                <input type="text" id="customer-floor" name="customerFloor" placeholder="เช่น 3, G">
            </div>

            <div class="payment-section">
                <h3>วิธีการชำระเงิน</h3>
                <div class="payment-details">
                    <p>โอนเงินผ่านบัญชีธนาคาร:</p>
                    <p>ธนาคาร: <strong>XXX Bank</strong></p>
                    <p>ชื่อบัญชี: <strong>ชื่อร้านหมูกระทะ</strong></p>
                    <p>เลขที่บัญชี: <strong>123-4-56789-0</strong></p>
                    <p>โปรดแนบสลิปหลังจากการโอนเงิน</p>
                </div>
                <div class="upload-slip">
                    <label for="slip-upload">แนบสลิปหลักฐานการโอนเงิน:</label>
                    <input type="file" id="slip-upload" accept="image/*" required>
                </div>
            </div>

            <button type="submit" class="submit-button">ยืนยันการสั่งซื้อ</button>
        </form>

        <div class="footer">
            <p>&copy; 2025 ร้านหมูกระทะ. All rights reserved.</p>
        </div>
    </div>
</body>
</html>
